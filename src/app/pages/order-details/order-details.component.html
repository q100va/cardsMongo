<!--
============================================
; Title: WEB450 Bob's Computer Repair SHop
; Author: Professor Krasso
; Date: May 5, 2022
; Modified By: House Gryffindor
; Description: Bob's Computer Repair Shop App - User Profile
===========================================
-->

<div fxLayout="column" class="profile-div">
    <mat-card fxFlex class="mat-elevation-z8 profile-container">

        <mat-card-actions>
<!--             <button class="cancel" (click)="close()" mat-raised-button>
                Закрыть
            </button> -->
            <a href="javascript:history.back()">Закрыть</a>

        </mat-card-actions>
        <mat-card-content *ngIf="order" style = "margin-left: 60px;">
            <div fxLayout="column" fxLayoutGap="10px">
            <mat-card-subtitle>Дата: {{order.orderDate}}</mat-card-subtitle>
            <mat-card-subtitle>Праздник: {{order.holiday}} </mat-card-subtitle>
            <mat-card-subtitle>Координатор: {{order.userName}} </mat-card-subtitle>
            <mat-card-subtitle>Количество: {{order.amount}}</mat-card-subtitle>
            <mat-card-subtitle>Поздравляющий: {{fullName}} </mat-card-subtitle>
            <mat-card-subtitle>Контактная информация: {{contact}} </mat-card-subtitle>
            <mat-card-subtitle>{{needAccepting}} </mat-card-subtitle>
            <mat-card-subtitle>Комментарий: {{order.comment}} </mat-card-subtitle>

            <mat-card-title>Список поздравляемых
            </mat-card-title>


            <mat-card fxFlex class="mat-elevation-z8 list-container">


                <mat-card-content *ngFor="let lineItem of order.lineItems">

                    <p style="font-weight: bold; margin: 0; ">{{lineItem.address}}</p>
                    <p style="font-style: italic; margin: 0;">{{lineItem.infoComment}}</p>
                    <p style="color: red; font-weight: bold; margin: 0;">{{lineItem.adminComment}}</p>

                    <div *ngFor="let celebrator of lineItem.celebrators">

                        {{celebrator.lastName}}
                        {{celebrator.firstName}}
                        {{celebrator.patronymic}}
                        {{order.holiday != 'Именины декабря 2022' ? celebrator.fullDayBirthday : ''}}
                        {{order.holiday == 'Именины декабря 2022' ? '(' + celebrator.specialComment + ')' : ''}}
                        {{order.holiday == 'Именины декабря 2022' ? celebrator.nameDay : ''}}
                        {{celebrator.comment1}}
                        {{celebrator.linkPhoto}}
                        <span style="font-weight: bold; color: rgb(175, 19, 175); "> {{ order.holiday != 'Именины декабря 2022' ? celebrator.specialComment : ''}}
                        </span>
                        <span style="font-weight: bold; color: rgb(255, 0, 0); " *ngIf="celebrator.absentComment"> {{ celebrator.absentComment}}
                        </span>
                    </div>
                    <br />
                </mat-card-content>

            </mat-card>
            </div>
        </mat-card-content>
       
    </mat-card>


</div>